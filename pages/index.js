import { useSelector, useDispatch } from 'react-redux';
import { setGeoJson } from '../store/features/geoSlice';
import Map from '../components/map/Map';
import Sidebar from '../components/Sidebar';
import styles from '../styles/Index.module.css'

export default function Index() {
  const dispatch = useDispatch();
  
  let testGeoJson = [
    {
      "type": "FeatureCollection",
      "properties": {
        "name": "Important Places"
      },
      "features": [
        {
          "type": "Feature",
          "geometry": {
            "type": "Point",
            "coordinates": [
              10.75312614440918,
              59.907382705725105
            ]
          }
        },
        {
          "type": "Feature",
          "geometry": {
            "type": "Point",
            "coordinates": [
              10.722597241401672,
              59.909593578016946
            ]
          }
        },
        {
          "type": "Feature",
          "geometry": {
            "type": "Point",
            "coordinates": [
              10.740213990211487,
              59.91294188162059
            ]
          }
        },
        {
          "type": "Feature",
          "geometry": {
            "type": "Point",
            "coordinates": [
              10.733642578125,
              59.91201407227743
            ]
          }
        }
      ]
    },
    {
      "type": "FeatureCollection",
      "properties": {
        "name": "Parks and Public Spaces"
      },
      "features": [
        {
          "type": "Feature",
          "properties": {
            "color": "green"
          },
          "geometry": {
            "type": "Polygon",
            "coordinates": [
              [
                [
                  10.727929472923279,
                  59.92013757437568
                ],
                [
                  10.726920962333677,
                  59.91958370128144
                ],
                [
                  10.723128318786621,
                  59.91704813507426
                ],
                [
                  10.723031759262085,
                  59.91689217664023
                ],
                [
                  10.722725987434385,
                  59.915515408331046
                ],
                [
                  10.722978115081787,
                  59.91541053496681
                ],
                [
                  10.724287033081053,
                  59.91548582869774
                ],
                [
                  10.732451677322388,
                  59.91526263606947
                ],
                [
                  10.732803046703339,
                  59.915438770135914
                ],
                [
                  10.733106136322021,
                  59.91564044921686
                ],
                [
                  10.734190754592419,
                  59.91651538610654
                ],
                [
                  10.73420349508524,
                  59.91653841045006
                ],
                [
                  10.734196119010448,
                  59.91656311538486
                ],
                [
                  10.734164938330649,
                  59.916587988361876
                ],
                [
                  10.732132494449615,
                  59.91717451464704
                ],
                [
                  10.732050687074661,
                  59.91721115118856
                ],
                [
                  10.732025876641273,
                  59.91723165418954
                ],
                [
                  10.73198430240154,
                  59.91730089373861
                ],
                [
                  10.731507539749146,
                  59.918328042122496
                ],
                [
                  10.731520950794218,
                  59.91866414398404
                ],
                [
                  10.731495469808578,
                  59.918698090082806
                ],
                [
                  10.730986520648003,
                  59.9189165542441
                ],
                [
                  10.729337632656097,
                  59.919591767460794
                ],
                [
                  10.728718042373657,
                  59.919820308394435
                ],
                [
                  10.727929472923279,
                  59.92013757437568
                ]
              ]
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "color": "green"
          },
          "geometry": {
            "type": "Polygon",
            "coordinates": [
              [
                [
                  10.74164628982544,
                  59.90797712746549
                ],
                [
                  10.74111521244049,
                  59.90746608679191
                ],
                [
                  10.743974447250366,
                  59.906755996166886
                ],
                [
                  10.744494795799255,
                  59.90731277305603
                ],
                [
                  10.7441246509552,
                  59.90740691315316
                ],
                [
                  10.744092464447021,
                  59.907363877713316
                ],
                [
                  10.743191242218018,
                  59.90758174405401
                ],
                [
                  10.743223428726196,
                  59.90761671012374
                ],
                [
                  10.74164628982544,
                  59.90797712746549
                ]
              ]
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "color": "green"
          },
          "geometry": {
            "type": "Polygon",
            "coordinates": [
              [
                [
                  10.734726190567017,
                  59.91002255625512
                ],
                [
                  10.734964907169342,
                  59.90984235917503
                ],
                [
                  10.735436975955963,
                  59.909788568812324
                ],
                [
                  10.735530853271484,
                  59.90966081635161
                ],
                [
                  10.73614239692688,
                  59.909713262158135
                ],
                [
                  10.736187994480133,
                  59.90983563538447
                ],
                [
                  10.736566185951233,
                  59.909951284392605
                ],
                [
                  10.73687195777893,
                  59.90947254867137
                ],
                [
                  10.73676735162735,
                  59.909266797771345
                ],
                [
                  10.737325251102448,
                  59.90911752671246
                ],
                [
                  10.738398134708405,
                  59.910196028639575
                ],
                [
                  10.735109746456146,
                  59.91096050660447
                ],
                [
                  10.734806656837463,
                  59.91073593882607
                ],
                [
                  10.734825432300568,
                  59.91060146637532
                ],
                [
                  10.734710097312927,
                  59.91040379088388
                ],
                [
                  10.734726190567017,
                  59.910025918131645
                ],
                [
                  10.734726190567017,
                  59.91002255625512
                ]
              ]
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "color": "green"
          },
          "geometry": {
            "type": "Polygon",
            "coordinates": [
              [
                [
                  10.699050128459929,
                  59.92332216528161
                ],
                [
                  10.69962680339813,
                  59.923392064229155
                ],
                [
                  10.70019006729126,
                  59.92343642310027
                ],
                [
                  10.70065140724182,
                  59.92342835785541
                ],
                [
                  10.701718926429749,
                  59.92326033147449
                ],
                [
                  10.703330934047699,
                  59.922928308844064
                ],
                [
                  10.704098045825958,
                  59.92279926271467
                ],
                [
                  10.704342126846313,
                  59.92279657424828
                ],
                [
                  10.704870522022247,
                  59.92288126083419
                ],
                [
                  10.705873668193815,
                  59.92343239047809
                ],
                [
                  10.706587135791779,
                  59.92382086416592
                ],
                [
                  10.707430690526962,
                  59.9242711653444
                ],
                [
                  10.707217454910278,
                  59.924431793689
                ],
                [
                  10.707291215658186,
                  59.92458234005085
                ],
                [
                  10.707548707723618,
                  59.92473759027107
                ],
                [
                  10.707681477069853,
                  59.924839073788625
                ],
                [
                  10.707790106534958,
                  59.924935180409825
                ],
                [
                  10.707929581403732,
                  59.92499701109589
                ],
                [
                  10.708102583885193,
                  59.925011124605916
                ],
                [
                  10.708239376544952,
                  59.92499499487968
                ],
                [
                  10.708463340997696,
                  59.924917034425725
                ],
                [
                  10.70862829685211,
                  59.92500776424693
                ],
                [
                  10.707705616950989,
                  59.925335733679326
                ],
                [
                  10.707356929779053,
                  59.92545536106703
                ],
                [
                  10.707831680774689,
                  59.925884134340116
                ],
                [
                  10.706117749214172,
                  59.926490321581866
                ],
                [
                  10.706284046173094,
                  59.92746073574969
                ],
                [
                  10.706402063369751,
                  59.92775373611061
                ],
                [
                  10.705747604370117,
                  59.928038669759644
                ],
                [
                  10.705570578575134,
                  59.92825640042683
                ],
                [
                  10.70667564868927,
                  59.929382663409875
                ],
                [
                  10.706654191017149,
                  59.92970790169068
                ],
                [
                  10.706021189689636,
                  59.93027235725338
                ],
                [
                  10.705216526985167,
                  59.93046857050887
                ],
                [
                  10.703532099723814,
                  59.930492761103835
                ],
                [
                  10.70316731929779,
                  59.93042354907682
                ],
                [
                  10.702798515558243,
                  59.9303133471047
                ],
                [
                  10.702268779277802,
                  59.93020381673308
                ],
                [
                  10.701515078544615,
                  59.930123180645545
                ],
                [
                  10.700718462467194,
                  59.930312675140335
                ],
                [
                  10.698087215423584,
                  59.9294471737356
                ],
                [
                  10.698012784123419,
                  59.92947808488891
                ],
                [
                  10.697997361421585,
                  59.92943205413928
                ],
                [
                  10.697699636220932,
                  59.929354104111034
                ],
                [
                  10.696107745170593,
                  59.9291837557825
                ],
                [
                  10.695362091064453,
                  59.929132684712776
                ],
                [
                  10.694745182991028,
                  59.928764433093264
                ],
                [
                  10.694672763347626,
                  59.92846875365171
                ],
                [
                  10.69492220878601,
                  59.92814081518885
                ],
                [
                  10.6953164935112,
                  59.92786797866945
                ],
                [
                  10.695010721683502,
                  59.92751046535109
                ],
                [
                  10.696311593055725,
                  59.926994349103694
                ],
                [
                  10.696968734264374,
                  59.9272154467604
                ],
                [
                  10.697101503610611,
                  59.927275257119504
                ],
                [
                  10.69723293185234,
                  59.92731557864906
                ],
                [
                  10.697395205497742,
                  59.927341115592434
                ],
                [
                  10.69751724600792,
                  59.92733775546944
                ],
                [
                  10.697573572397232,
                  59.927341115592434
                ],
                [
                  10.69761648774147,
                  59.927311546498316
                ],
                [
                  10.697664767503738,
                  59.927263160651094
                ],
                [
                  10.697773396968842,
                  59.92716168454784
                ],
                [
                  10.697762668132782,
                  59.926826340780536
                ],
                [
                  10.697725117206573,
                  59.92651451507785
                ],
                [
                  10.69769024848938,
                  59.92632634297732
                ],
                [
                  10.697620511054993,
                  59.92598628640289
                ],
                [
                  10.69755345582962,
                  59.9256717645714
                ],
                [
                  10.697599053382874,
                  59.925292721479465
                ],
                [
                  10.69755882024765,
                  59.92523492374806
                ],
                [
                  10.697751939296722,
                  59.92478866810677
                ],
                [
                  10.69780558347702,
                  59.924712051323716
                ],
                [
                  10.697387158870697,
                  59.92445262827088
                ],
                [
                  10.697773396968842,
                  59.92424428186348
                ],
                [
                  10.697765350341797,
                  59.92389479462944
                ],
                [
                  10.698253512382507,
                  59.92346061882315
                ],
                [
                  10.698891878128052,
                  59.92343507889293
                ],
                [
                  10.699050128459929,
                  59.92332216528161
                ]
              ]
            ]
          }
        }
      ]
    },
    {
      "type": "FeatureCollection",
      "properties": {
        "name": "Interesting Areas"
      },
      "features": [
        {
          "type": "Feature",
          "properties": {
            "radius": 200
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              10.73091745376587,
              59.92546342581921
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "radius": 300
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              10.773221254348755,
              59.90937303532337
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "radius": 150,
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              10.775951743125916,
              59.926135481613684
            ]
          }
        }
      ]
    },
    {
      "type": "FeatureCollection",
      "properties": {
        "name": "High-Traffic Roads"
      },
      "features": [
        {
          "type": "Feature",
          "properties": {
            "color": "orange"
          },
          "geometry": {
            "type": "LineString",
            "coordinates": [
              [
                10.744087100028992,
                59.917959670572664
              ],
              [
                10.74786365032196,
                59.918454416821724
              ],
              [
                10.748051404953003,
                59.9185619693782
              ],
              [
                10.747960209846497,
                59.91949497317917
              ],
              [
                10.748051404953003,
                59.91961596598709
              ],
              [
                10.749054551124573,
                59.92028545155095
              ],
              [
                10.750883817672728,
                59.921161946371015
              ]
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "color": "orange"
          },
          "geometry": {
            "type": "LineString",
            "coordinates": [
              [
                10.776751041412354,
                59.915413224031546
              ],
              [
                10.779186487197876,
                59.9156767513213
              ],
              [
                10.779969692230225,
                59.91596716672745
              ],
              [
                10.780291557312012,
                59.916300603504666
              ],
              [
                10.781310796737671,
                59.916300603504666
              ],
              [
                10.782630443572998,
                59.91652647812804
              ],
              [
                10.783188343048096,
                59.91656412374916
              ],
              [
                10.783896446228027,
                59.91653185607653
              ],
              [
                10.784754753112791,
                59.9163543833163
              ],
              [
                10.785366296768188,
                59.916090861406595
              ],
              [
                10.789915323257446,
                59.91317584683912
              ],
              [
                10.79080581665039,
                59.912476635539186
              ],
              [
                10.791664123535156,
                59.91141703342304
              ],
              [
                10.792018175125122,
                59.910626343819764
              ],
              [
                10.792007446289062,
                59.91037353432724
              ]
            ]
          }
        }
      ]
    }
  ];
  
  dispatch(setGeoJson(testGeoJson));
  
  // setTimeout(() => {
  //   console.warn("State Change");
  //   dispatch(setGeoJson([testGeoJson[0]]))
  // }, 5000)
  
  return (
    <div className={styles.map}>
    <Sidebar/>
    <Map/>
    </div>
    )
  };